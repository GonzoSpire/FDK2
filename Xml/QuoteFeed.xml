<protocol name="QuoteFeed" majorVer="2" minorVer="1">
    <members>
        <message name="LoginRequest" id="0" size="48">
            <fields>
                <field name="Username" offset="8" type="ustring" optional="N" repeatable="N"/>
                <field name="Password" offset="16" type="ustring" optional="N" repeatable="N"/>
                <field name="DeviceId" offset="24" type="string" optional="N" repeatable="N"/>
                <field name="AppId" offset="32" type="string" optional="N" repeatable="N"/>
                <field name="SessionId" offset="40" type="string" optional="N" repeatable="N"/>
            </fields>
        </message>
        <message name="LoginReport" id="1" size="9">
            <fields>
                <field name="TwoFactorLogin" offset="8" type="bool" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="LoginRejectReason" size="4">
            <members>
                <member name="IncorrectCredentials" value="0"/>
                <member name="ThrottlingLimits" value="1"/>
                <member name="BlockedLogin" value="2"/>
                <member name="InternalServerError" value="3"/>
                <member name="Other" value="4"/>
            </members>
        </enum>
        <message name="LoginReject" id="2" size="20">
            <fields>
                <field name="Reason" offset="8" type="LoginRejectReason" optional="N" repeatable="N"/>
                <field name="Text" offset="12" type="ustring" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <enum name="LogoutReason" size="4">
            <members>
                <member name="ClientLogout" value="0"/>
                <member name="ServerLogout" value="1"/>
                <member name="DeletedLogin" value="2"/>
                <member name="BlockedLogin" value="3"/>
                <member name="InternalServerError" value="4"/>
                <member name="Other" value="5"/>
            </members>
        </enum>
        <message name="Logout" id="3" size="20">
            <fields>
                <field name="Reason" offset="8" type="LogoutReason" optional="N" repeatable="N"/>
                <field name="Text" offset="12" type="ustring" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <enum name="TwoFactorReason" size="4">
            <members>
                <member name="ServerRequest" value="0"/>
                <member name="ServerSuccess" value="1"/>
                <member name="ServerError" value="2"/>
                <member name="ServerResume" value="3"/>
                <member name="ClientResponse" value="4"/>
                <member name="ClientResume" value="5"/>
            </members>
        </enum>
        <message name="TwoFactorLogin" id="4" size="36">
            <fields>
                <field name="Reason" offset="8" type="TwoFactorReason" optional="N" repeatable="N"/>
                <field name="OneTimePassword" offset="12" type="ustring" optional="Y" repeatable="N"/>
                <field name="ExpireTime" offset="20" type="timestamp" optional="Y" repeatable="N"/>
                <field name="Text" offset="28" type="ustring" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <message name="TwoFactorReject" id="5" size="16">
            <fields>
                <field name="Text" offset="8" type="ustring" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <message name="Request" id="6" size="16">
            <subMessages>
                <subMessage name="CurrencyListRequest"/>
                <subMessage name="SymbolListRequest"/>
                <subMessage name="TradingSessionStatusRequest"/>
                <subMessage name="MarketDataRequest_0"/>
                <subMessage name="MarketDataSubscribeRequest"/>
                <subMessage name="MarketDataUnsubscribeRequest"/>
                <subMessage name="MarketDataRequest"/>
            </subMessages>
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
            </fields>
        </message>
        <message name="Response" id="7" size="16">
            <subMessages>
                <subMessage name="Reject"/>
                <subMessage name="CurrencyListReport"/>
                <subMessage name="SymbolListReport"/>
                <subMessage name="TradingSessionStatusReport"/>
                <subMessage name="MarketDataReport"/>
                <subMessage name="MarketDataSubscribeReport"/>
                <subMessage name="MarketDataUnsubscribeReport"/>
            </subMessages>
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="RejectReason" size="4">
            <members>
                <member name="ThrottlingLimits" value="0"/>
                <member name="InternalServerError" value="1"/>
                <member name="Other" value="2"/>
            </members>
        </enum>
        <message name="Reject" id="8" superMessage="Response" size="28">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Reason" offset="16" type="RejectReason" optional="N" repeatable="N"/>
                <field name="Text" offset="20" type="ustring" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <enum name="CurrencyListRequestType" size="4">
            <members>
                <member name="All" value="0"/>
            </members>
        </enum>
        <message name="CurrencyListRequest" id="9" superMessage="Request" size="20">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Type" offset="16" type="CurrencyListRequestType" optional="N" repeatable="N"/>
            </fields>
        </message>
        <group name="Currency" size="24">
            <fields>
                <field name="Id" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="Description" offset="8" type="ustring" optional="Y" repeatable="N"/>
                <field name="Precision" offset="16" type="int32" optional="N" repeatable="N"/>
                <field name="SortOrder" offset="20" type="int32" optional="N" repeatable="N"/>
            </fields>
        </group>
        <message name="CurrencyListReport" id="10" superMessage="Response" size="24">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Currencies" offset="16" type="Currency" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <enum name="SymbolListRequestType" size="4">
            <members>
                <member name="All" value="0"/>
            </members>
        </enum>
        <message name="SymbolListRequest" id="11" superMessage="Request" size="20">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Type" offset="16" type="SymbolListRequestType" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="MarginCalcMode" size="4">
            <members>
                <member name="Forex" value="0"/>
                <member name="Cfd" value="1"/>
                <member name="Futures" value="2"/>
                <member name="CfdIndex" value="3"/>
                <member name="CfdLeverage" value="4"/>
            </members>
        </enum>
        <enum name="ProfitCalcMode" size="4">
            <members>
                <member name="Forex" value="0"/>
                <member name="Cfd" value="1"/>
                <member name="Futures" value="2"/>
                <member name="CfdIndex" value="3"/>
                <member name="CfdLeverage" value="4"/>
            </members>
        </enum>
        <enum name="CommissionType" size="4">
            <members>
                <member name="Money" value="0"/>
                <member name="Points" value="1"/>
                <member name="Percentage" value="2"/>
            </members>
        </enum>
        <enum name="CommissionChargeType" size="4">
            <members>
                <member name="PerLot" value="0"/>
                <member name="PerDeal" value="1"/>
            </members>
        </enum>
        <enum name="CommissionChargeMethod" size="4">
            <members>
                <member name="OneWay" value="0"/>
                <member name="RoundTurn" value="1"/>
            </members>
        </enum>
        <enum name="SwapType" size="4">
            <members>
                <member name="Points" value="0"/>
                <member name="PercentPerYear" value="1"/>
            </members>
        </enum>
        <group name="Symbol" size="245">
            <fields>
                <field name="Id" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="Description" offset="8" type="ustring" optional="Y" repeatable="N"/>
                <field name="Precision" offset="16" type="int32" optional="N" repeatable="N"/>
                <field name="ContractMultiplier" offset="20" type="double" optional="N" repeatable="N"/>
                <field name="DefaultSlippage" offset="28" type="double" optional="N" repeatable="N"/>
                <field name="MinTradeVol" offset="36" type="double" optional="N" repeatable="N"/>
                <field name="MaxTradeVol" offset="44" type="double" optional="N" repeatable="N"/>
                <field name="TradeVolStep" offset="52" type="double" optional="N" repeatable="N"/>
                <field name="RoundLot" offset="60" type="double" optional="N" repeatable="N"/>
                <field name="TradeEnabled" offset="68" type="bool" optional="N" repeatable="N"/>
                <field name="SortOrder" offset="69" type="int32" optional="N" repeatable="N"/>
                <field name="Color" offset="73" type="uint32" optional="N" repeatable="N"/>
                <field name="SecurityId" offset="77" type="string" optional="N" repeatable="N"/>
                <field name="SecurityDescription" offset="85" type="ustring" optional="Y" repeatable="N"/>
                <field name="SecuritySortOrder" offset="93" type="int32" optional="N" repeatable="N"/>
                <field name="StatusGroupId" offset="97" type="string" optional="N" repeatable="N"/>
                <field name="MarginCurrId" offset="105" type="string" optional="N" repeatable="N"/>
                <field name="MarginCurrPrecision" offset="113" type="int32" optional="N" repeatable="N"/>
                <field name="MarginCurrSortOrder" offset="117" type="int32" optional="N" repeatable="N"/>
                <field name="MarginCalcMode" offset="121" type="MarginCalcMode" optional="N" repeatable="N"/>
                <field name="ProfitCurrId" offset="125" type="string" optional="N" repeatable="N"/>
                <field name="ProfitCurrPrecision" offset="133" type="int32" optional="N" repeatable="N"/>
                <field name="ProfitCurrSortOrder" offset="137" type="int32" optional="N" repeatable="N"/>
                <field name="ProfitCalcMode" offset="141" type="ProfitCalcMode" optional="N" repeatable="N"/>
                <field name="MarginHedge" offset="145" type="double" optional="N" repeatable="N"/>
                <field name="MarginFactor" offset="153" type="double" optional="N" repeatable="N"/>
                <field name="StopOrderMarginReduction" offset="161" type="double" optional="N" repeatable="N"/>
                <field name="HiddenLimitOrderMarginReduction" offset="169" type="double" optional="N" repeatable="N"/>
                <field name="CommissionType" offset="177" type="CommissionType" optional="N" repeatable="N"/>
                <field name="CommissionChargeType" offset="181" type="CommissionChargeType" optional="N" repeatable="N"/>
                <field name="CommissionChargeMethod" offset="185" type="CommissionChargeMethod" optional="N" repeatable="N"/>
                <field name="Commission" offset="189" type="double" optional="N" repeatable="N"/>
                <field name="LimitsCommission" offset="197" type="double" optional="N" repeatable="N"/>
                <field name="MinCommissionCurrId" offset="205" type="string" optional="N" repeatable="N"/>
                <field name="MinCommission" offset="213" type="double" optional="N" repeatable="N"/>
                <field name="SwapType" offset="221" type="SwapType" optional="N" repeatable="N"/>
                <field name="SwapSizeLong" offset="225" type="double" optional="N" repeatable="N"/>
                <field name="SwapSizeShort" offset="233" type="double" optional="N" repeatable="N"/>
                <field name="TripleSwapDay" offset="241" type="int32" optional="N" repeatable="N"/>
            </fields>
        </group>
        <message name="SymbolListReport" id="12" superMessage="Response" size="24">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Symbols" offset="16" type="Symbol" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <message name="TradingSessionStatusRequest" id="13" superMessage="Request" size="16">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="TradingSessionStatus" size="4">
            <members>
                <member name="Close" value="0"/>
                <member name="Open" value="1"/>
            </members>
        </enum>
        <group name="TradingSessionStatusGroup" size="44">
            <fields>
                <field name="Id" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="Status" offset="8" type="TradingSessionStatus" optional="N" repeatable="N"/>
                <field name="StartTime" offset="12" type="timestamp" optional="N" repeatable="N"/>
                <field name="EndTime" offset="20" type="timestamp" optional="N" repeatable="N"/>
                <field name="OpenTime" offset="28" type="timestamp" optional="N" repeatable="N"/>
                <field name="CloseTime" offset="36" type="timestamp" optional="N" repeatable="N"/>
            </fields>
        </group>
        <group name="TradingSessionStatusInfo" size="56">
            <fields>
                <field name="SessionId" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="Status" offset="8" type="TradingSessionStatus" optional="N" repeatable="N"/>
                <field name="StartTime" offset="12" type="timestamp" optional="N" repeatable="N"/>
                <field name="EndTime" offset="20" type="timestamp" optional="N" repeatable="N"/>
                <field name="OpenTime" offset="28" type="timestamp" optional="N" repeatable="N"/>
                <field name="CloseTime" offset="36" type="timestamp" optional="N" repeatable="N"/>
                <field name="PlatformTimezoneOffset" offset="44" type="int32" optional="N" repeatable="N"/>
                <field name="Groups" offset="48" type="TradingSessionStatusGroup" optional="N" repeatable="Y"/>
            </fields>
        </group>
        <message name="TradingSessionStatusReport" id="14" superMessage="Response" size="72">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="StatusInfo" offset="16" type="TradingSessionStatusInfo" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="MarketDataRequestType_0" size="4">
            <members>
                <member name="Snapshot" value="0"/>
                <member name="Subscribe" value="1"/>
                <member name="Unsubscribe" value="2"/>
            </members>
        </enum>
        <enum name="MarketDataUpdateType_0" size="4">
            <members>
                <member name="FullRefresh" value="0"/>
                <member name="IncrementalRefresh" value="1"/>
            </members>
        </enum>
        <message name="MarketDataRequest_0" id="15" superMessage="Request" size="34">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="RequestType" offset="16" type="MarketDataRequestType_0" optional="N" repeatable="N"/>
                <field name="UpdateType" offset="20" type="MarketDataUpdateType_0" optional="N" repeatable="N"/>
                <field name="MarketDepth" offset="24" type="uint16" optional="N" repeatable="N"/>
                <field name="SymbolIds" offset="26" type="string" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <enum name="MarketDataEntryType" size="4">
            <members>
                <member name="Bid" value="0"/>
                <member name="Ask" value="1"/>
            </members>
        </enum>
        <group name="MarketDataEntry" size="20">
            <fields>
                <field name="Type" offset="0" type="MarketDataEntryType" optional="N" repeatable="N"/>
                <field name="Price" offset="4" type="double" optional="N" repeatable="N"/>
                <field name="Size" offset="12" type="double" optional="N" repeatable="N"/>
            </fields>
        </group>
        <group name="MarketDataSnapshot" size="36">
            <fields>
                <field name="Id" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="SymbolId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="OrigTime" offset="16" type="timestamp" optional="N" repeatable="N"/>
                <field name="BidCount" offset="24" type="int16" optional="N" repeatable="N"/>
                <field name="AskCount" offset="26" type="int16" optional="N" repeatable="N"/>
                <field name="Entries" offset="28" type="MarketDataEntry" optional="N" repeatable="Y"/>
            </fields>
        </group>
        <message name="MarketDataReport" id="16" superMessage="Response" size="24">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Snapshots" offset="16" type="MarketDataSnapshot" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <message name="TradingSessionStatusUpdate" id="17" size="64">
            <fields>
                <field name="StatusInfo" offset="8" type="TradingSessionStatusInfo" optional="N" repeatable="N"/>
            </fields>
        </message>
        <message name="MarketDataUpdate" id="18" size="44">
            <fields>
                <field name="Snapshot" offset="8" type="MarketDataSnapshot" optional="N" repeatable="N"/>
            </fields>
        </message>
        <enum name="NotificationType" size="4">
            <members>
                <member name="ConfigUpdate" value="0"/>
            </members>
        </enum>
        <enum name="NotificationSeverity" size="4">
            <members>
                <member name="Info" value="0"/>
                <member name="Warning" value="1"/>
                <member name="Error" value="2"/>
            </members>
        </enum>
        <message name="Notification" id="19" size="32">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Type" offset="16" type="NotificationType" optional="N" repeatable="N"/>
                <field name="Severity" offset="20" type="NotificationSeverity" optional="N" repeatable="N"/>
                <field name="Text" offset="24" type="string" optional="Y" repeatable="N"/>
            </fields>
        </message>
        <group name="MarketDataSymbolEntry" size="10">
            <fields>
                <field name="Id" offset="0" type="string" optional="N" repeatable="N"/>
                <field name="MarketDepth" offset="8" type="uint16" optional="N" repeatable="N"/>
            </fields>
        </group>
        <message name="MarketDataSubscribeRequest" id="20" superMessage="Request" size="24">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="SymbolEntries" offset="16" type="MarketDataSymbolEntry" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <message name="MarketDataSubscribeReport" id="21" superMessage="Response" size="24">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="Snapshots" offset="16" type="MarketDataSnapshot" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <message name="MarketDataUnsubscribeRequest" id="22" superMessage="Request" size="24">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="SymbolIds" offset="16" type="string" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <message name="MarketDataUnsubscribeReport" id="23" superMessage="Response" size="16">
            <fields>
                <field name="RequestId" offset="8" type="string" optional="N" repeatable="N"/>
            </fields>
        </message>
        <message name="MarketDataRequest" id="24" superMessage="Request" size="24">
            <fields>
                <field name="Id" offset="8" type="string" optional="N" repeatable="N"/>
                <field name="SymbolEntries" offset="16" type="MarketDataSymbolEntry" optional="N" repeatable="Y"/>
            </fields>
        </message>
        <processor name="Client" head="364_13">
            <subProcessors>
                <subProcessor name="ClientTwoFactorLogin"/>
                <subProcessor name="ClientRequest"/>
                <subProcessor name="ClientUpdate"/>
            </subProcessors>
            <states>
                <state label="364_13">
                    <operations>
                        <send name="LoginRequest" next="366_17">
                            <messages>
                                <message name="LoginRequest"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="366_17">
                    <operations>
                        <recv next="370_25">
                            <messages>
                                <message name="LoginReport">
                                    <expression>
                                        <field name="TwoFactorLogin"/>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                        <recv name="LoginReport" next="398_13">
                            <messages>
                                <message name="LoginReport">
                                    <expression>
                                        <not>
                                            <field name="TwoFactorLogin"/>
                                        </not>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                        <recv name="LoginReject" next="364_13">
                            <messages>
                                <message name="LoginReject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="LoginRequest"/>
                    </contexts>
                </state>
                <state label="370_25">
                    <operations>
                        <recv name="TwoFactorLoginRequest" next="372_29">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerRequest"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="LoginRequest"/>
                    </contexts>
                </state>
                <state label="372_29">
                    <operations>
                        <send name="TwoFactorLoginResponse" next="374_33">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResponse"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                    </operations>
                    <contexts>
                        <context name="LoginRequest"/>
                    </contexts>
                </state>
                <state label="374_33">
                    <operations>
                        <recv name="TwoFactorLoginSuccess" next="398_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerSuccess"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                        <recv name="TwoFactorLoginReject" next="370_25">
                            <messages>
                                <message name="TwoFactorReject"/>
                            </messages>
                        </recv>
                        <recv name="TwoFactorLoginError" next="364_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerError"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="LoginRequest"/>
                        <context name="TwoFactorLoginResponse"/>
                    </contexts>
                </state>
                <state label="398_13">
                    <operations>
                        <send next="398_13">
                            <messages>
                                <message name="Request"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                        <recv next="398_13">
                            <messages>
                                <message name="Response"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                                <message name="TradingSessionStatusUpdate"/>
                                <message name="MarketDataUpdate"/>
                                <message name="Notification"/>
                            </messages>
                        </recv>
                        <send name="Logout" next="408_17">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </send>
                        <recv name="Logout" next="364_13">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </recv>
                    </operations>
                </state>
                <state label="408_17">
                    <operations>
                        <recv next="408_17">
                            <messages>
                                <message name="Response"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                                <message name="TradingSessionStatusUpdate"/>
                                <message name="MarketDataUpdate"/>
                                <message name="Notification"/>
                            </messages>
                        </recv>
                        <recv name="Logout" next="364_13">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="Logout"/>
                    </contexts>
                </state>
            </states>
        </processor>
        <processor name="ClientTwoFactorLogin" superProcessor="Client" head="431_13">
            <messages>
                <message name="TwoFactorLogin"/>
                    <expression>
                        <or>
                            <equal>
                                <field name="Reason"/>
                                <enumMember name="TwoFactorReason.ClientResume"/>
                            </equal>
                            <equal>
                                <field name="Reason"/>
                                <enumMember name="TwoFactorReason.ServerResume"/>
                            </equal>
                        </or>
                    </expression>
                </message>
            </messages>
            <states>
                <state label="431_13">
                    <operations>
                        <send name="TwoFactorLoginResume" next="433_17">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="433_17">
                    <operations>
                        <recv name="TwoFactorLoginResume" next="431_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="TwoFactorLoginResume"/>
                    </contexts>
                </state>
            </states>
        </processor>
        <processor name="ClientRequest" type="string" superProcessor="Client" head="444_9">
            <fields>
                <field name="Request.Id"/>
                <field name="Response.RequestId"/>
            </fields>
            <states>
                <state label="444_9">
                    <operations>
                        <send name="CurrencyListRequest" next="446_13">
                            <messages>
                                <message name="CurrencyListRequest"/>
                            </messages>
                        </send>
                        <send name="SymbolListRequest" next="453_13">
                            <messages>
                                <message name="SymbolListRequest"/>
                            </messages>
                        </send>
                        <send name="TradingSessionStatusRequest" next="460_13">
                            <messages>
                                <message name="TradingSessionStatusRequest"/>
                            </messages>
                        </send>
                        <send name="MarketDataSubscribeRequest" next="467_13">
                            <messages>
                                <message name="MarketDataSubscribeRequest"/>
                            </messages>
                        </send>
                        <send name="MarketDataUnsubscribeRequest" next="474_13">
                            <messages>
                                <message name="MarketDataUnsubscribeRequest"/>
                            </messages>
                        </send>
                        <send name="MarketDataRequest" next="481_13">
                            <messages>
                                <message name="MarketDataRequest"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="446_13">
                    <operations>
                        <recv name="CurrencyListReport">
                            <messages>
                                <message name="CurrencyListReport"/>
                            </messages>
                        </recv>
                        <recv name="CurrencyListReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="CurrencyListRequest"/>
                    </contexts>
                </state>
                <state label="453_13">
                    <operations>
                        <recv name="SymbolListReport">
                            <messages>
                                <message name="SymbolListReport"/>
                            </messages>
                        </recv>
                        <recv name="SymbolListReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="SymbolListRequest"/>
                    </contexts>
                </state>
                <state label="460_13">
                    <operations>
                        <recv name="TradingSessionStatusReport">
                            <messages>
                                <message name="TradingSessionStatusReport"/>
                            </messages>
                        </recv>
                        <recv name="TradingSessionStatusReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="TradingSessionStatusRequest"/>
                    </contexts>
                </state>
                <state label="467_13">
                    <operations>
                        <recv name="MarketDataSubscribeReport">
                            <messages>
                                <message name="MarketDataSubscribeReport"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataSubscribeReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="MarketDataSubscribeRequest"/>
                    </contexts>
                </state>
                <state label="474_13">
                    <operations>
                        <recv name="MarketDataUnsubscribeReport">
                            <messages>
                                <message name="MarketDataUnsubscribeReport"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataUnsubscribeReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="MarketDataUnsubscribeRequest"/>
                    </contexts>
                </state>
                <state label="481_13">
                    <operations>
                        <recv name="MarketDataReport">
                            <messages>
                                <message name="MarketDataReport"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataReject">
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="MarketDataRequest"/>
                    </contexts>
                </state>
            </states>
        </processor>
        <processor name="ClientUpdate" superProcessor="Client" head="497_13">
            <messages>
                <message name="TradingSessionStatusUpdate"//>
                <message name="MarketDataUpdate"//>
                <message name="Notification"//>
            </messages>
            <states>
                <state label="497_13">
                    <operations>
                        <recv name="TradingSessionStatusUpdate" next="497_13">
                            <messages>
                                <message name="TradingSessionStatusUpdate"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataUpdate" next="497_13">
                            <messages>
                                <message name="MarketDataUpdate"/>
                            </messages>
                        </recv>
                        <recv name="Notification" next="497_13">
                            <messages>
                                <message name="Notification"/>
                            </messages>
                        </recv>
                    </operations>
                </state>
            </states>
        </processor>
        <processor name="Server" head="511_13">
            <subProcessors>
                <subProcessor name="ServerTwoFactorLogin"/>
                <subProcessor name="ServerRequest"/>
                <subProcessor name="ServerUpdate"/>
            </subProcessors>
            <states>
                <state label="511_13">
                    <operations>
                        <recv name="LoginRequest" next="513_17">
                            <messages>
                                <message name="LoginRequest"/>
                            </messages>
                        </recv>
                    </operations>
                </state>
                <state label="513_17">
                    <operations>
                        <send next="517_25">
                            <messages>
                                <message name="LoginReport">
                                    <expression>
                                        <field name="TwoFactorLogin"/>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                        <send next="545_13">
                            <messages>
                                <message name="LoginReport">
                                    <expression>
                                        <not>
                                            <field name="TwoFactorLogin"/>
                                        </not>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                        <send next="511_13">
                            <messages>
                                <message name="LoginReject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="517_25">
                    <operations>
                        <send name="TwoFactorLoginRequest" next="519_29">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerRequest"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="519_29">
                    <operations>
                        <recv name="TwoFactorLoginResponse" next="521_33">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResponse"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                    </operations>
                    <contexts>
                        <context name="TwoFactorLoginRequest"/>
                    </contexts>
                </state>
                <state label="521_33">
                    <operations>
                        <send next="545_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerSuccess"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                        <send next="517_25">
                            <messages>
                                <message name="TwoFactorReject"/>
                            </messages>
                        </send>
                        <send next="511_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerError"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                    </operations>
                    <contexts>
                        <context name="TwoFactorLoginRequest"/>
                    </contexts>
                </state>
                <state label="545_13">
                    <operations>
                        <recv next="545_13">
                            <messages>
                                <message name="Request"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                        <send next="545_13">
                            <messages>
                                <message name="Response"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                                <message name="TradingSessionStatusUpdate"/>
                                <message name="MarketDataUpdate"/>
                                <message name="Notification"/>
                            </messages>
                        </send>
                        <recv name="Logout" next="555_17">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </recv>
                        <send next="511_13">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="555_17">
                    <operations>
                        <send next="555_17">
                            <messages>
                                <message name="Response"/>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                                <message name="TradingSessionStatusUpdate"/>
                                <message name="MarketDataUpdate"/>
                                <message name="Notification"/>
                            </messages>
                        </send>
                        <send next="511_13">
                            <messages>
                                <message name="Logout"/>
                            </messages>
                        </send>
                    </operations>
                </state>
            </states>
        </processor>
        <processor name="ServerTwoFactorLogin" superProcessor="Server" head="578_13">
            <messages>
                <message name="TwoFactorLogin"/>
                    <expression>
                        <or>
                            <equal>
                                <field name="Reason"/>
                                <enumMember name="TwoFactorReason.ClientResume"/>
                            </equal>
                            <equal>
                                <field name="Reason"/>
                                <enumMember name="TwoFactorReason.ServerResume"/>
                            </equal>
                        </or>
                    </expression>
                </message>
            </messages>
            <states>
                <state label="578_13">
                    <operations>
                        <recv name="TwoFactorLoginResume" next="580_17">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ClientResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </recv>
                    </operations>
                </state>
                <state label="580_17">
                    <operations>
                        <send next="578_13">
                            <messages>
                                <message name="TwoFactorLogin">
                                    <expression>
                                        <equal>
                                            <field name="Reason"/>
                                            <enumMember name="TwoFactorReason.ServerResume"/>
                                        </equal>
                                    </expression>
                                </message>
                            </messages>
                        </send>
                    </operations>
                </state>
            </states>
        </processor>
        <processor name="ServerRequest" type="string" superProcessor="Server" head="591_9">
            <fields>
                <field name="Request.Id"/>
                <field name="Response.RequestId"/>
            </fields>
            <states>
                <state label="591_9">
                    <operations>
                        <recv name="CurrencyListRequest" next="593_13">
                            <messages>
                                <message name="CurrencyListRequest"/>
                            </messages>
                        </recv>
                        <recv name="SymbolListRequest" next="600_13">
                            <messages>
                                <message name="SymbolListRequest"/>
                            </messages>
                        </recv>
                        <recv name="TradingSessionStatusRequest" next="607_13">
                            <messages>
                                <message name="TradingSessionStatusRequest"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataSubscribeRequest" next="614_13">
                            <messages>
                                <message name="MarketDataSubscribeRequest"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataUnsubscribeRequest" next="621_13">
                            <messages>
                                <message name="MarketDataUnsubscribeRequest"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataRequest" next="628_13">
                            <messages>
                                <message name="MarketDataRequest"/>
                            </messages>
                        </recv>
                        <recv name="MarketDataRequest_0" next="635_13">
                            <messages>
                                <message name="MarketDataRequest_0"/>
                            </messages>
                        </recv>
                    </operations>
                </state>
                <state label="593_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="CurrencyListReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="600_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="SymbolListReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="607_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="TradingSessionStatusReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="614_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="MarketDataSubscribeReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="621_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="MarketDataUnsubscribeReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="628_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="MarketDataReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
                <state label="635_13">
                    <operations>
                        <send>
                            <messages>
                                <message name="MarketDataReport"/>
                            </messages>
                        </send>
                        <send>
                            <messages>
                                <message name="Reject"/>
                            </messages>
                        </send>
                    </operations>
                </state>
            </states>
        </processor>
        <processor name="ServerUpdate" superProcessor="Server" head="651_13">
            <messages>
                <message name="TradingSessionStatusUpdate"//>
                <message name="MarketDataUpdate"//>
                <message name="Notification"//>
            </messages>
            <states>
                <state label="651_13">
                    <operations>
                        <send next="651_13">
                            <messages>
                                <message name="TradingSessionStatusUpdate"/>
                            </messages>
                        </send>
                        <send next="651_13">
                            <messages>
                                <message name="MarketDataUpdate"/>
                            </messages>
                        </send>
                        <send next="651_13">
                            <messages>
                                <message name="Notification"/>
                            </messages>
                        </send>
                    </operations>
                </state>
            </states>
        </processor>
    </members>
</protocol>
